# AI 기반 단독 개발 환경을 위한 변경 제안 (우선순위)

## 1. 서론

본 문서는 기존에 제안된 "AI-Driven 프로젝트 관리 및 개발 계획"을 바탕으로, 사용자가 단독으로 AI의 도움을 받아 코딩을 진행하는 환경에 최적화된 변경 제안의 우선순위를 제시합니다. 목표는 최소한의 노력으로 최대의 효과를 얻고, AI가 코드 생성 및 리팩토링을 효율적으로 수행할 수 있는 기반을 마련하는 것입니다.

## 2. 변경 제안 우선순위

### 우선순위 1: 디렉토리 구조 표준화 및 소스/테스트 분리

**제안 내용:**
-   `src/` 디렉토리를 생성하고 모든 애플리케이션 소스 코드(`01_ds18b20_flow_12.ino`, `App.cpp`, `App.h` 등)를 이동합니다.
-   `test/` 디렉토리 내에 `unit/` 및 `mocks/` 하위 디렉토리를 생성하고, 기존 테스트 코드와 Mock 객체들을 역할에 맞게 이동합니다.
-   `docs/` 디렉토리 내에 `project_analysis/`를 포함한 문서들을 체계적으로 관리합니다.

**우선순위 이유 (단독/AI 개발 관점):**
-   **AI의 코드 이해도 향상:** AI가 프로젝트의 전체 구조를 더 명확하게 파악하고, 소스 코드와 테스트 코드를 구분하여 분석하는 데 필수적입니다. 이는 AI가 더 정확하고 일관된 코드를 생성하고 리팩토링하는 데 도움을 줍니다.
-   **작업 범위 명확화:** AI에게 특정 작업을 지시할 때, `src` 폴더 내에서만 작업하도록 하거나 `test` 폴더 내에서만 작업하도록 지시하는 등 작업 범위를 명확히 지정할 수 있어 오작동을 줄입니다.
-   **빌드/테스트 환경 분리 용이:** 향후 PlatformIO 도입이나 독립적인 테스트 환경 구축 시 기반이 됩니다.

**AI 활용 방안:**
-   **파일 이동 및 구조 생성:** AI에게 특정 파일들을 지정된 새 디렉토리로 이동시키고, 필요한 디렉토리를 생성하도록 지시할 수 있습니다.
-   **`.gitignore` 업데이트:** AI에게 변경된 디렉토리 구조에 맞춰 `.gitignore` 파일을 업데이트하도록 요청할 수 있습니다.

### 우선순위 2: PlatformIO 도입 및 독립적인 유닛 테스트 환경 구축

**제안 내용:**
-   PlatformIO를 프로젝트에 도입하고, `platformio.ini` 파일을 설정합니다.
-   PlatformIO의 유닛 테스트 기능을 활용하여 PC 환경에서 실행 가능한 독립적인 유닛 테스트 환경을 구축합니다.
-   기존 Unity 테스트 코드를 PlatformIO 테스트 프레임워크에 맞게 조정합니다.

**우선순위 이유 (단독/AI 개발 관점):**
-   **AI의 테스트 실행 및 검증 자동화:** AI가 코드를 변경한 후, 실제 하드웨어 없이도 PC에서 빠르게 유닛 테스트를 실행하고 결과를 즉시 확인할 수 있게 합니다. 이는 AI의 자가 검증 루프를 가능하게 하여 개발 속도와 신뢰성을 크게 높입니다.
-   **개발 반복 주기 단축:** 하드웨어 업로드 및 테스트에 소요되는 시간을 극적으로 줄여, AI가 더 많은 시도를 하고 학습할 수 있는 기회를 제공합니다.
-   **의존성 관리 용이:** PlatformIO는 라이브러리 의존성 관리를 자동화하여, AI가 필요한 라이브러리를 쉽게 추가하거나 업데이트할 수 있도록 돕습니다.

**AI 활용 방안:**
-   **`platformio.ini` 파일 생성 및 설정:** AI에게 프로젝트에 맞는 `platformio.ini` 파일을 생성하고 초기 설정을 요청할 수 있습니다.
-   **테스트 코드 마이그레이션:** AI에게 기존 Unity 테스트 코드를 PlatformIO 유닛 테스트 형식에 맞게 변환하도록 지시할 수 있습니다.
-   **테스트 실행 및 결과 분석:** AI에게 특정 테스트를 실행하고, 그 결과를 분석하여 실패한 테스트 케이스를 보고하도록 요청할 수 있습니다.

### 우선순위 3: 핵심 모듈의 의존성 역전 원칙(DIP) 적용 및 의존성 주입(DI) 도입

**제안 내용:**
-   `Communicator`, `DataProcessor`, `DS18B20_Sensor` 등 핵심 모듈에 대해 추상 인터페이스(Abstract Base Class)를 정의합니다.
-   상위 레벨 클래스(예: `App`)가 구체 클래스 대신 인터페이스에 의존하도록 코드를 리팩토링하고, 생성자 또는 Setter를 통해 의존성을 주입받도록 변경합니다.

**우선순위 이유 (단독/AI 개발 관점):**
-   **AI의 리팩토링 효율 증대:** 모듈 간의 결합도가 낮아지면 AI가 특정 모듈의 내부 구현을 변경하거나 교체할 때 다른 부분에 미치는 영향을 최소화할 수 있습니다. 이는 AI가 더 안전하고 효율적으로 리팩토링을 수행하는 데 필수적입니다.
-   **Mock 객체 활용 극대화:** DIP와 DI가 적용되면 유닛 테스트 시 Mock 객체를 쉽게 주입할 수 있어, AI가 독립적인 테스트 케이스를 생성하고 실행하는 데 매우 유리합니다.
-   **코드 이해도 및 확장성:** AI가 코드의 논리적 구조와 책임 분리를 더 잘 이해하게 되어, 새로운 기능을 추가하거나 기존 기능을 확장할 때 더 나은 설계를 제안할 수 있습니다.

**AI 활용 방안:**
-   **인터페이스 정의:** AI에게 특정 클래스에 대한 추상 인터페이스를 생성하도록 요청할 수 있습니다.
-   **의존성 주입 리팩토링:** AI에게 특정 클래스의 생성자를 수정하여 인터페이스를 주입받도록 리팩토링하고, 기존 사용처를 업데이트하도록 지시할 수 있습니다.
-   **Mock 객체 생성 및 테스트 코드 수정:** AI에게 새로운 인터페이스에 대한 Mock 객체를 생성하고, 이를 활용하여 유닛 테스트 코드를 업데이트하도록 요청할 수 있습니다.

### 우선순위 4: CI/CD 파이프라인 구축 (GitHub Actions)

**제안 내용:**
-   `.github/workflows/ci.yml` 파일을 수정하여 PlatformIO 기반의 자동 빌드 및 유닛 테스트 실행 파이프라인을 구축합니다.
-   코드 스타일 검사(Linting) 및 정적 분석 도구를 통합합니다.

**우선순위 이유 (단독/AI 개발 관점):**
-   **AI의 작업 결과 자동 검증:** AI가 코드를 변경하거나 새로운 기능을 추가할 때마다 자동으로 빌드 및 테스트를 실행하여, AI가 생성한 코드의 품질과 안정성을 지속적으로 검증할 수 있습니다.
-   **회귀 방지:** 새로운 변경 사항이 기존 기능에 문제를 일으키는 것을 자동으로 감지하여, 단독 개발 환경에서 발생할 수 있는 실수를 줄여줍니다.
-   **코드 품질 유지:** Linting 및 정적 분석을 통해 일관된 코드 스타일을 유지하고 잠재적인 버그를 조기에 발견할 수 있습니다.

**AI 활용 방안:**
-   **CI/CD 워크플로우 파일 생성 및 수정:** AI에게 GitHub Actions 워크플로우 파일을 생성하거나 수정하여 특정 작업을 자동화하도록 요청할 수 있습니다.
-   **빌드/테스트 스크립트 작성:** AI에게 CI 환경에서 실행될 빌드 및 테스트 스크립트를 작성하도록 지시할 수 있습니다.

## 3. 결론

위의 우선순위에 따라 프로젝트를 점진적으로 개선해 나간다면, AI가 코딩 작업을 더 효율적이고 안정적으로 수행할 수 있는 기반이 마련될 것입니다. 각 단계는 AI에게 명확한 지시를 내리고, AI가 생성한 코드의 유효성을 빠르게 검증하는 데 초점을 맞추고 있습니다. 이 계획을 통해 단독 개발 환경에서도 고품질의 소프트웨어를 지속적으로 개발할 수 있을 것입니다.
